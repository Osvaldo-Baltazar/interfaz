
     
     
                                             ,,,, ,
                                   ,╗φ▓█▓▓▒ ∩"%≥╓`ⁿ[]▓╬▓█▓φ▄
                               ;∩] ╚╬╬╬╬╬╬╬ ¡.µ░∩»░Ω▓╬╬╬╬╬╬█ ,░░≈
                            ∩╚░*░ ⌐,╣╬╬╬╬╬╬█.░░░ⁿ.*║╬╬╬╬╬╬╬¬»▒▐b║oΓ3
                        ╓▄, ² ╬ ▒ Γ,╠╬╬╬╬╬╬╬█▓▓▓▓▓█▓╬╬╬╬╬╬▌░-║:⌐╙ `Γ╓▓▓╦
                      ╓▓╬╬╬█╦`7~▒⌐▄φ▓╬╬╬╬╬╣▓╣█▓▓╬▓╬╣▓╬╝▓█╬▓█▓╬;⌐▒,▄▓╬╬╬╬█▄
                     ▓╬╬╬╬╬╬╬█▒▄▓╣╬╬╬▓█╬║╣╣█╫▓▓▌█▓█▓▓▓╚▓█║▓█╬╬╬█▓▓╬╬╬╬╬╬╬╣▀
                  ,≥≥,╙▓╬╬╬╬╬╬╬╬╬╬╣╬█Φ╣▓▓▓╬╣█╝╝╝╝╝╝█╣╬╬▓█╣▓▒╩╣╠╣╬╬╬╬╬╬╬▓▀ «≥U
                 ;░░░∩░░╩╣╬╬╬╬╬▓╣█▓╣╬╬█▀╙    ,,╓╓,,    ╙╙╝╣╬▓▓█▓╬▓╣╬╬▓╩,¼º.,Φ╙
                ≤░░░░░░░]╣╬╬╬█╝╣█▓╬╝╙  ,▄██████████████▄,  ╙╚╣╬▓▓▓╣╣╬╬█▒]QC",«⌐╦
                 `ⁿ░░░│)▓╬╬▓╣╬╢▓╬▀   ▄██████▌║█▌]██ ███████,  ╙▓╬▓▒╬╢▓╬▓▒,éÅ╙ ,╓╓
              ▐▓██#╗▄▄▒▓╬╬▓▓▒▓╬█   ▄████████▀╝▀▀▀▀▀▀▀████████   ╚╬╬▓▒╝╣╬╬▓█▓▓╬╬╬╬▌
              ▓╬╬╬╬╬╬╬╬╬╬▓╬▒╣╬╩   ████████ '⌐       ▀ ║███████▄  ╙╬╬█╬╝▓╬╬╬╬╬╬╬╬╬▓
             ║╬╬╬╬╬╬╬╬╬╬╬╬╣▓╬▌   █████████            ║████████▌  ╚╬╬█╫╣╬╬╬╬╬╬╬╬▓█⌐
             ..╙╠▀╝╣▓╬╬╬▓╣╬▓╣   ╫█████▒╙╙█   , ,,,,,, ║▒╙╙██████   ▓╬▓║Φ╣╬╬╬╬Γ .╓
             be,"╜╔ ║╬╬╬█▓║╬▓   ██████████  jµ▐╚▐│▌╛Γ ║█████████▌  ║╬╬╣▀╣╬╬▌,   └╙▀
             ╕,"Θ╦,]║╬╬╣█╬╬╬▌   ██████████ [%[∩t∩⌐µ]j ║█████████▌  ║╬╬▌█╬╬╬▌'  ╝╗,
             »,Γ½,└G║╬╬▓█▓▓╬▓   ╫█████▒╠╠█ ""`"^^" "" ║▒╠╠██████¬  ▓╬╬▓█▓╬╬▓, êφµ''
              ,,╓φ@▓█╬╬╬╬╬╬╬╬b   █████████            ║████████▌  ]╬╬╬╬╬╬╬╬╬╬╬██▓╗╕
             ▐╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓   ╙████████ ]µ       ▄ ║███████▀   ▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬Γ
              █╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓╕   ████████╗▄╗▄▄╗▄▄╗▄████████▀  ,▓╬╬╬╬╬╬╬╣╣╬╬╬╬╬╬█
              ╘▓╣█╝╬╚╚╩▓╬╬╬╬╬╬╬╬▌   ╙▀██████▌║█▌j██ ███████▀   é▓╬╬╬╬╬╬╬█,%╦.╙╙╙▀
                «≤░≥½½╠╠╫╬╬╬╬╬╬╬╬▓▌,   ╙▀███████████████▀`  ,#█╬╬╬╬╬╬╬╬╩µª╜ ╓∩¼-
                `░½√░░▐▐▐╙╣╬╬╬╬╬╬╬╬╬█╗╖    '╙╙╙▀▀▀╙╙└    ,φ▓╬╬╬╬╬╬╬╬╬╬▒▒⌐ ]7µⁿ    
                  ¼░[Ü∩`╓▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬█▓╗╦╓,,,,,,╓╗φ@▓▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬█▄╚Å└ ⌂    
                      ╔▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╩╙╣▀╙╙╙▓▀╙╙╙╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█▄     
                     ╚╬╬╬╬╬╬╬╣╩╚╙╣╣╬╬╬╬╬╬╬⌐ ▓m, `▌ ▓█▀█╬╬╬╬╬╬▓╝▒d╙╚╣╬╬╬╬╬▓▀     
                       ╙▓╬╬▓▀;╩╔Γ,N╙╠╣╬╬╬╬▄╖▓▄▄▄φ▓╗╖╓#▓╬╬╬╬╩╠∩▒;û╙µ ╙█╬▓▀        
                         ╙╙ ░╔░╓Γ,≤╚ ▓╬╬╬╬╬╬▓╙╙╩╬╩╙╙╬╬╬╬╬╬╬▌░░d7╙░µ#              
                             ²░≡"╠# ▐╬╬╬╬╬╬╬▒'Γ'│░░[║╬╬╬╬╬╬▓ "░╠░m⌐
                                `   ▓╬╬╬╬╬╬▌µ╔%╠]░░▒ █╬╬╬╬╬╬▌ "
                                     '╙╙▀╝╩ "'╙ └    └▀▀╙╙
     
    
---
^[ [^ascii ^art ^generator](http://asciiart.club) ^] 



# WIRING (PROCESSING)

**Wiring** es una plataforma de prototipado electrónico de fuente abierta compuesta de un lenguaje de programación, un entorno de desarrollo integrado (IDE), y un microcontrolador. Ha sido desarrollado desde 2003 por Hernando Barragán. https://es.wikipedia.org/wiki/Wiring


# PRACTICA PI-LED 


------

## WiringPi.h Wiring
La biblioteca WiringPi usa la numeración GPIO (son las siglas de GPIO (General-purpose input/output):

![](https://www.aranacorp.com/wp-content/uploads/raspberrypi-gpio-wiringpi-pinout.png)

Puede encontrar el pinout escribiendo:

```bash
gpio readallCopy
```


## Código base para encender un LED con Raspberry Pi

![](https://www.aranacorp.com/wp-content/uploads/raspberry-pi3-led_bb.png)


# Blinking LED en C++

Una vez instalada la biblioteca, puede escribir un programa utilizando las mismas palabras clave que Arduino, además de la función main () y las funciones básicas incluidas.

```cpp
//
// blinky.cpp
//
//
#include <iostream>
#include <wiringPi.h>
using namespace std;

int ledPin = 29;  //Corresponde a pin 40

void setup(){

        pinMode(ledPin,OUTPUT);
        cout << "                         " << endl ;    
        cout << "            .──Λ──.     " << endl ; 
        cout <<"          ,'  ╱◯╲  `.   " << endl ; 
        cout <<"         ;   ╱◯◯◯╲   :  " << endl ; 
        cout <<"         ;  ╱◯◯◯◯◯╲  :  " << endl ; 
        cout <<"        ;  ╱◯◯◯Λ◯◯◯╲  : " << endl ; 
        cout <<"        │ ╱◯◯◯╱ ╲◯◯◯╲ │ " << endl ; 
        cout <<"        │▕◯◯◯▕   ◙◯◯◯▏│ " << endl ; 
        cout <<"        : ╲◯◯◯╲ ╱◯◯◯╱ ; " << endl ; 
        cout <<"         : ╲◯◯◯V◯◯◯╱ ;  " << endl ; 
        cout <<"         :  ╲◯◯◯◯◯╱  ;  " << endl ; 
        cout <<"          ╲  ╲◯◯◯╱  ╱   " << endl ; 
        cout <<"           `. ╲◯╱ ,'    " << endl ; 
        cout <<"             `─V─'      " << endl ; 
        cout <<"       ┌───────────────┐" << endl ; 
        cout <<"       │ Blink el LED  │" << endl ; 
        cout <<"       └───────────────┘" << endl ; 
         cout <<"                         " << endl ;
        cout<<"Hello World: este fue el demo del Blinky en C++" << endl;

}

void loop(){
        digitalWrite(ledPin,HIGH);
        delay(100);
        digitalWrite(ledPin,LOW);
        delay(100);

        cout<<"Blink el LED: Tarda 9 segundos en parpadear en el http://twitch.com/profesolis" << endl;
        exit(0);
}

int main(void)//(int argc, char **argv)
{
        if(wiringPiSetup()<0){
                cout<<"configuracion de la libreria WIRING fallo, o le falto correrlo en $sudo"<<endl;
                return 1;
        }
        setup();
        while(1){
                loop();
        }
        
        return 0;
}


```
----
# RESULTADO DEL DEMO A CONVERTIR A ENSAMBLADOR (solo verificar todo conectado)
```bash
led@raspberrypi:~/t $ g++ -Wall -o blinky blinky.cpp -lwiringPi
led@raspberrypi:~/t $ sudo ./blinky 
[sudo] password for led: 
                         
            .──Λ──.     
          ,'  ╱◯╲  `.   
         ;   ╱◯◯◯╲   :  
         ;  ╱◯◯◯◯◯╲  :  
        ;  ╱◯◯◯Λ◯◯◯╲  : 
        │ ╱◯◯◯╱ ╲◯◯◯╲ │ 
        │▕◯◯◯▕   ◙◯◯◯▏│ 
        : ╲◯◯◯╲ ╱◯◯◯╱ ; 
         : ╲◯◯◯V◯◯◯╱ ;  
         :  ╲◯◯◯◯◯╱  ;  
          ╲  ╲◯◯◯╱  ╱   
           `. ╲◯╱ ,'    
             `─V─'      
       ┌───────────────┐
       │ Blink el LED  │
       └───────────────┘
                         
Hello World: este fue el demo del Blinky en C++
Blink el LED: Tarda 9 segundos en parpadear en el http://twitch.com/profesolis
```
----
![](images/RPI_LED.gif)

----
## BIBLIOGRAFIA Y ANEXOS:
https://es.wikipedia.org/wiki/Wiring
https://es.wikipedia.org/wiki/GPIO
https://github.com/WiringPi/WiringPi
https://www.aranacorp.com/es/programe-su-raspberry-pi-con-c-c/

# Instalar WiringPi 
Para controlar la E / S de la Raspberry Pi como las del microcontrolador Arduino, puede usar el cableado de la biblioteca wiringPi.h.
En una terminal, verifique que la biblioteca esté instalada escribiendo:

```bash
$ gpio -v
$ gpio readall
```
de no contar con el soporte de debemos copiar repositorio GIT:

```bash
cd
git clone https://github.com/WiringPi/WiringPi.git
```
compila la biblioteca:

```bash
cd ~/wiringPi
./build
```

# ANEXOS
```asm
@ blinky.s
@ Por Raul Alvarez, ISC/2020B

	 .data
	 .balign 4	
Intro: 	 .asciz	"Prueba de Blinky en Raspberry Pi con wiringPi\n"
ErrMsg:	 .asciz	"Hubo un error... Abortando...\n"
Parpadeo:  .asciz	"Parpadeo de LED - Ctrl + C para terminar programa\n"
pin:	 .int	2_	@ Corresponde al pin 40
delayMs: .int	100	@ Milisegundos de espera
OUTPUT	 =	1

	.text
	.global main
	.extern printf
	.extern wiringPiSetup
	.extern delay
	.extern digitalWrite
	.extern pinMode
	
main:   push 	{ip, lr}

	ldr	r0, =Intro	@ Da mensaje inicial
    bl 	printf

	bl	wiringPiSetup	@ Comprueba si no hay error
	mov	r1,#-1
	cmp	r0, r1
	bne	init
	ldr	r0, =ErrMsg
	bl	printf

init:
	ldr	r0, =pin	@ Prepara el puerto de salida
	ldr	r0, [r0]
	mov	r1, #OUTPUT
	bl	pinMode
	
LoopInf:
	ldr	r0, =pin	@ Enciende el led
	ldr	r0, [r0]
	mov	r1, #1
	bl 	digitalWrite
	
	ldr	r0, =Parpadeo	@ Depliega el mesnaje de parpadeo y como detenerlo
    bl 	printf
    
	ldr	r0, =delayMs	@ Pausa de 100 ms
	ldr	r0, [r0]
	bl	delay

	ldr	r0, =pin	@ Apaga el led
	ldr	r0, [r0]
	mov	r1, #0
	bl 	digitalWrite

	ldr	r0, =delayMs	@ Pausa de 100 ms
	ldr	r0, [r0]
	bl	delay

```

# Makefile
```
# Materia: Lenguajez de interfaz.
# Programador: Alvarez Espinoza Raúl
# Archivo Makefile: Código que compila los programa de ensamblador incluye limpieza para subir a GitHub.
# Fecha: 7/12/2020

# Makefile
all: blinky

# Compilación del programa en CPP
blinkyCPP: # enlazarlo para correrlo
	@echo "  ____ ____  ____  "
	@echo " / ___|  _ \|  _ \ "
	@echo "| |   | |_) | |_) |"
	@echo "| |___|  __/|  __/ "
	@echo " \____|_|   |_|    "
	@echo "Linking file & executable..."
	g++ -Wall -o  $@$+ $@$+.cpp -lwiringPi

# Compilación del programa en ensamblador
blinky: blinky.o  # enlazarlo para correrlo
	@echo "                                       _      _        "
	@echo "     /\                               | |    | |       " 
	@echo "    /  \    ___  ___   ___  _ __ ___  | |__  | | _   _ "
	@echo "   / /\ \  / __|/ __| / _ \| '_ ` _ \ | '_ \ | || | | |"
	@echo "  / ____ \ \__ \\__ \|  __/| | | | | || |_) || || |_| |"
	@echo " /_/    \_\|___/|___/ \___||_| |_| |_||_.__/ |_| \__, |"
	@echo "                                                  __/ |"
	@echo "                                                 |___/ "
	@echo "Linking file & executable..."
	gcc -o blinky blinky.o -lwiringPi

blinky.o: blinky.s # compilarlo nos genera el .o
	@echo "Compiling file ..."
	as -o $@ $<

clean:   # limpiar todo que no se ocupa como lo .o basura
	@echo "Removing trash to upload to GitHub Classroom, teacher evaluate my progress ..."
	rm -vf first *.o
```
